<div class="recipe-list-container">
    @if (notificationMessage()) {
    <div class="notification-banner">
        <span>{{ notificationMessage() }}</span>
    </div>
    }

    <header class="header">
        <h1>Mis Recetas</h1>
        <button class="btn btn-primary" routerLink="/recipes/new">
            <span class="icon">+</span> Agregar Receta
        </button>
    </header>

    <app-filter-bar [searchQuery]="searchQuery()" [selectedCategory]="selectedCategory()"
        [selectedDifficulty]="selectedDifficulty()" [categories]="categories()"
        (searchQueryChange)="handleSearchChange($event)" (categoryChange)="handleCategoryChange($event)"
        (difficultyChange)="handleDifficultyChange($event)" (clearFilters)="handleClearFilters()"></app-filter-bar>

    <div class="results-info">
        <p>{{ filteredRecipes().length }} receta(s) encontrada(s)</p>
    </div>

    @if (filteredRecipes().length === 0) {
    <div class="empty-state">
        <p>No se encontraron recetas. Â¡Intenta ajustar tus filtros o agrega una nueva receta!</p>
    </div>
    } @else {
    <div class="recipe-grid">
        @for (recipe of filteredRecipes(); track recipe.id) {
        <app-recipe-card [recipe]="recipe" (edit)="handleEditRecipe($event)"
            (delete)="handleDeleteRecipe($event)"></app-recipe-card>
        }
    </div>
    }
</div>